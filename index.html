<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solid Rocket Motor Analysis (SRMA)</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Solid Rocket Motor Analysis System (SRMA)</h1>
            <p>Detailed solid rocket motor performance calculation and analysis tool</p>
        </header>

        <div class="tabs">
            <button class="tab-button active" onclick="openTab(event, 'propellant-tab')">Propellant Properties</button>
            <button class="tab-button" onclick="openTab(event, 'grain-tab')">Grain Geometry</button>
            <button class="tab-button" onclick="openTab(event, 'chamber-tab')">Combustion Chamber</button>
            <button class="tab-button" onclick="openTab(event, 'nozzle-tab')">Nozzle</button>
            <button class="tab-button" onclick="openTab(event, 'efficiency-tab')">Efficiency</button>
            <button class="tab-button" onclick="openTab(event, 'conditions-tab')">Initial Conditions</button>
            <button class="tab-button" onclick="openTab(event, 'mass-tab')">Mass Breakdown</button>
            <button class="tab-button" onclick="openTab(event, 'measurement-tab')">Test Equipment</button>
            <button class="tab-button" onclick="openTab(event, 'results-tab')">Results</button>
        </div>

        <!-- Propellant Properties -->
        <div id="propellant-tab" class="tab-content active">
            <h2>1. Propellant Properties</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="propellant-name">Propellant Name/Formula:</label>
                    <input type="text" id="propellant-name" placeholder="KNSU, APCP etc.">
                </div>
                
                <div class="input-group">
                    <label for="density">Density œÅp (kg/m¬≥):</label>
                    <input type="number" id="density" step="0.1" placeholder="1800">
                </div>
                
                <div class="input-group">
                    <label for="heat-value">Heat Value ŒîHc (kJ/kg):</label>
                    <input type="number" id="heat-value" step="0.1" placeholder="2500">
                </div>
                
                <div class="input-group">
                    <label for="flame-temp">Adiabatic Flame Temperature Tc (K):</label>
                    <input type="number" id="flame-temp" step="0.1" placeholder="3200">
                </div>
                
                <div class="input-group">
                    <label for="molecular-weight">Molecular Weight M (g/mol):</label>
                    <input type="number" id="molecular-weight" step="0.001" placeholder="28.5">
                </div>
                
                <div class="input-group">
                    <label for="gamma">Specific Heat Ratio Œ≥:</label>
                    <input type="number" id="gamma" step="0.001" placeholder="1.25">
                </div>
                
                <div class="input-group">
                    <label for="char-velocity">Characteristic Velocity c* (m/s):</label>
                    <input type="number" id="char-velocity" step="0.1" placeholder="1550">
                    <button type="button" onclick="calculateCharVelocity()">Calculate</button>
                </div>
                
                <div class="input-group">
                    <label for="erosive-k">Erosive Burning k:</label>
                    <input type="number" id="erosive-k" step="0.0001" placeholder="0.0002">
                </div>
                
                <div class="input-group">
                    <label for="erosive-m">Erosive Burning m:</label>
                    <input type="number" id="erosive-m" step="0.01" placeholder="0.8">
                </div>
                
                <div class="input-group">
                    <label for="temp-coeff">Temperature Coefficient œÉ (1/K):</label>
                    <input type="number" id="temp-coeff" step="0.0001" placeholder="0.002">
                </div>
                
                <div class="input-group">
                    <label for="burn-rate-coeff">Burn Rate Coefficient a (mm/s):</label>
                    <input type="number" id="burn-rate-coeff" step="0.001" placeholder="8.2">
                </div>
                
                <div class="input-group">
                    <label for="burn-rate-exp">Burn Rate Exponent n:</label>
                    <input type="number" id="burn-rate-exp" step="0.001" placeholder="0.35">
                </div>
            </div>
        </div>

        <!-- Grain Geometry -->
        <div id="grain-tab" class="tab-content">
            <h2>2. Grain Geometry</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="grain-count">Grain Count N:</label>
                    <input type="number" id="grain-count" min="1" placeholder="3">
                </div>
                
                <div class="input-group">
                    <label for="web-thickness">Web Thickness (mm):</label>
                    <input type="number" id="web-thickness" step="0.1" placeholder="25">
                </div>
                
                <div class="input-group">
                    <label for="grain-type">Grain Type:</label>
                    <select id="grain-type" onchange="toggleGrainParameters()">
                        <option value="cylindrical">Cylindrical</option>
                        <option value="star">Star</option>
                        <option value="finocyl">Finocyl</option>
                        <option value="slotted">Slotted</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="outer-diameter">Outer Diameter (mm):</label>
                    <input type="number" id="outer-diameter" step="0.1" placeholder="100">
                </div>
                
                <div class="input-group">
                    <label for="inner-diameter">Inner Diameter (mm):</label>
                    <input type="number" id="inner-diameter" step="0.1" placeholder="30">
                </div>
                
                <div class="input-group">
                    <label for="grain-length">Grain Length (mm):</label>
                    <input type="number" id="grain-length" step="0.1" placeholder="200">
                </div>
                
                <!-- Star Configuration -->
                <div id="star-config" class="config-section" style="display: none;">
                    <h3>Star Configuration</h3>
                    <div class="input-group">
                        <label for="star-points">Number of Points:</label>
                        <input type="number" id="star-points" min="3" placeholder="6">
                    </div>
                    <div class="input-group">
                        <label for="star-radius">Point Radius (mm):</label>
                        <input type="number" id="star-radius" step="0.1" placeholder="15">
                    </div>
                    <div class="input-group">
                        <label for="star-fillet">Fillet Radius (mm):</label>
                        <input type="number" id="star-fillet" step="0.1" placeholder="2">
                    </div>
                </div>
                
                <!-- Finocyl Configuration -->
                <div id="finocyl-config" class="config-section" style="display: none;">
                    <h3>Finocyl Configuration</h3>
                    <div class="input-group">
                        <label for="fin-count">Fin Count:</label>
                        <input type="number" id="fin-count" min="2" placeholder="4">
                    </div>
                    <div class="input-group">
                        <label for="fin-width">Fin Width (mm):</label>
                        <input type="number" id="fin-width" step="0.1" placeholder="8">
                    </div>
                    <div class="input-group">
                        <label for="fin-length">Fin Length (mm):</label>
                        <input type="number" id="fin-length" step="0.1" placeholder="20">
                    </div>
                </div>
                
                <!-- Inhibit√∂r Ayarlarƒ± -->
                <h3>Inhibitor Coating</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" id="inhibit-front" checked> Front Face</label>
                    <label><input type="checkbox" id="inhibit-rear" checked> Rear Face</label>
                    <label><input type="checkbox" id="inhibit-outer"> Outer Surface</label>
                </div>
                
                <div class="input-group">
                    <label for="grain-gap">Grain Gap (mm):</label>
                    <input type="number" id="grain-gap" step="0.1" placeholder="2">
                </div>
                
                <div class="input-group">
                    <label for="insulation-thickness">Insulation Thickness (mm):</label>
                    <input type="number" id="insulation-thickness" step="0.1" placeholder="3">
                </div>
            </div>
        </div>

        <!-- Combustion Chamber and Case -->
        <div id="chamber-tab" class="tab-content">
            <h2>3. Combustion Chamber and Case</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="chamber-volume">Case Internal Volume (L):</label>
                    <input type="number" id="chamber-volume" step="0.001" placeholder="2.5">
                </div>
                
                <div class="input-group">
                    <label for="case-material">Case Material:</label>
                    <select id="case-material">
                        <option value="steel">Steel</option>
                        <option value="aluminum">Aluminum</option>
                        <option value="composite">Composite</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="yield-strength">Yield Strength œÉy (MPa):</label>
                    <input type="number" id="yield-strength" step="0.1" placeholder="250">
                </div>
                
                <div class="input-group">
                    <label for="safety-factor">Safety Factor FoS:</label>
                    <input type="number" id="safety-factor" step="0.1" placeholder="2.5">
                </div>
                
                <div class="input-group">
                    <label for="liner-thickness">Liner Thickness (mm):</label>
                    <input type="number" id="liner-thickness" step="0.1" placeholder="2">
                </div>
                
                <div class="input-group">
                    <label for="liner-density">Liner Density (kg/m¬≥):</label>
                    <input type="number" id="liner-density" step="0.1" placeholder="1200">
                </div>
                
                <div class="input-group">
                    <label for="initial-temp">Initial Temperature (K):</label>
                    <input type="number" id="initial-temp" step="0.1" placeholder="298">
                </div>
                
                <div class="input-group">
                    <label for="case-thickness">Case Wall Thickness (mm):</label>
                    <input type="number" id="case-thickness" step="0.1" placeholder="8">
                </div>
            </div>
        </div>

        <!-- Nozzle -->
        <div id="nozzle-tab" class="tab-content">
            <h2>4. Nozzle</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="throat-diameter">Throat Diameter Dt (mm):</label>
                    <input type="number" id="throat-diameter" step="0.1" placeholder="15">
                </div>
                
                <div class="input-group">
                    <label for="exit-diameter">Exit Diameter De (mm):</label>
                    <input type="number" id="exit-diameter" step="0.1" placeholder="35">
                </div>
                
                <div class="input-group">
                    <label for="expansion-ratio">Expansion Ratio Œµ:</label>
                    <input type="number" id="expansion-ratio" step="0.1" readonly>
                </div>
                
                <div class="input-group">
                    <label for="convergent-angle">Convergent Angle (¬∞):</label>
                    <input type="number" id="convergent-angle" step="0.1" placeholder="45">
                </div>
                
                <div class="input-group">
                    <label for="divergent-angle">Divergent Angle (¬∞):</label>
                    <input type="number" id="divergent-angle" step="0.1" placeholder="15">
                </div>
                
                <div class="input-group">
                    <label for="nozzle-efficiency">Nozzle Efficiency Œ∑n:</label>
                    <input type="number" id="nozzle-efficiency" step="0.001" placeholder="0.95">
                </div>
                
                <div class="input-group">
                    <label for="erosion-factor">Erosion Factor (mm/s):</label>
                    <input type="number" id="erosion-factor" step="0.0001" placeholder="0.001">
                </div>
                
                <div class="input-group">
                    <label for="nozzle-material">Nozzle Material:</label>
                    <select id="nozzle-material">
                        <option value="graphite">Graphite</option>
                        <option value="phenolic">Phenolic</option>
                        <option value="tungsten">Tungsten</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Efficiency -->
        <div id="efficiency-tab" class="tab-content">
            <h2>5. Efficiency and Empirical Coefficients</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="combustion-efficiency">Combustion Efficiency Œ∑c:</label>
                    <input type="number" id="combustion-efficiency" step="0.001" placeholder="0.95">
                </div>
                
                <div class="input-group">
                    <label for="cf-efficiency">Nozzle Discharge Efficiency (Cf):</label>
                    <input type="number" id="cf-efficiency" step="0.001" placeholder="0.98">
                </div>
                
                <div class="input-group">
                    <label for="overall-efficiency">Overall Thrust Efficiency Œ∑overall:</label>
                    <input type="number" id="overall-efficiency" step="0.001" placeholder="0.92">
                </div>
                
                <div class="input-group">
                    <label for="discharge-coeff">Discharge Coefficient Cd:</label>
                    <input type="number" id="discharge-coeff" step="0.001" placeholder="0.98">
                </div>
                
                <div class="input-group">
                    <label for="kinetic-efficiency">Kinetic Efficiency:</label>
                    <input type="number" id="kinetic-efficiency" step="0.001" placeholder="0.97">
                </div>
                
                <div class="input-group">
                    <label for="divergence-loss">Divergence Loss Coefficient:</label>
                    <input type="number" id="divergence-loss" step="0.001" placeholder="0.02">
                </div>
                
                <div class="input-group">
                    <label for="two-phase-loss">Two-Phase Loss Coefficient:</label>
                    <input type="number" id="two-phase-loss" step="0.001" placeholder="0.98">
                </div>
            </div>
        </div>

        <!-- Initial & Environmental Conditions -->
        <div id="conditions-tab" class="tab-content">
            <h2>6. Initial & Environmental Conditions</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="ignition-delay">Ignition Delay (ms):</label>
                    <input type="number" id="ignition-delay" step="0.1" placeholder="50">
                </div>
                
                <div class="input-group">
                    <label for="atm-pressure">Atmospheric Pressure (kPa):</label>
                    <input type="number" id="atm-pressure" step="0.1" placeholder="101.325">
                </div>
                
                <div class="input-group">
                    <label for="test-altitude">Test Altitude (m):</label>
                    <input type="number" id="test-altitude" step="1" placeholder="0">
                </div>
                
                <div class="input-group">
                    <label for="ambient-temp">Ambient Temperature (K):</label>
                    <input type="number" id="ambient-temp" step="0.1" placeholder="298">
                </div>
                
                <div class="input-group">
                    <label for="humidity">Humidity Ratio (%):</label>
                    <input type="number" id="humidity" step="0.1" placeholder="60">
                </div>
                
                <div class="input-group">
                    <label for="wind-speed">Wind Speed (m/s):</label>
                    <input type="number" id="wind-speed" step="0.1" placeholder="0">
                </div>
                
                <div class="input-group">
                    <label for="chamber-pressure">Target Chamber Pressure (MPa):</label>
                    <input type="number" id="chamber-pressure" step="0.1" placeholder="7">
                </div>
            </div>
        </div>

        <!-- Mass & Weight Breakdown -->
        <div id="mass-tab" class="tab-content">
            <h2>7. Mass & Weight Breakdown</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="propellant-mass">Propellant Mass (kg):</label>
                    <input type="number" id="propellant-mass" step="0.001" readonly>
                    <button type="button" onclick="calculatePropellantMass()">Calculate</button>
                </div>
                
                <div class="input-group">
                    <label for="case-mass">Case Mass (kg):</label>
                    <input type="number" id="case-mass" step="0.001" placeholder="2.5">
                </div>
                
                <div class="input-group">
                    <label for="nozzle-mass">Nozzle Mass (kg):</label>
                    <input type="number" id="nozzle-mass" step="0.001" placeholder="0.5">
                </div>
                
                <div class="input-group">
                    <label for="insulation-mass">Insulation Mass (kg):</label>
                    <input type="number" id="insulation-mass" step="0.001" placeholder="0.3">
                </div>
                
                <div class="input-group">
                    <label for="avionics-mass">Avionics Mass (kg):</label>
                    <input type="number" id="avionics-mass" step="0.001" placeholder="0.2">
                </div>
                
                <div class="input-group">
                    <label for="closure-mass">Head Closure Mass (kg):</label>
                    <input type="number" id="closure-mass" step="0.001" placeholder="0.8">
                </div>
                
                <div class="input-group">
                    <label for="dry-mass">Total Dry Mass (kg):</label>
                    <input type="number" id="dry-mass" step="0.001" readonly>
                </div>
                
                <div class="input-group">
                    <label for="wet-mass">Total Wet Mass (kg):</label>
                    <input type="number" id="wet-mass" step="0.001" readonly>
                </div>
            </div>
        </div>

        <!-- Test Equipment -->
        <div id="measurement-tab" class="tab-content">
            <h2>8. Measurement / Test Equipment</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="pressure-sensor-range">Pressure Sensor Range (MPa):</label>
                    <input type="number" id="pressure-sensor-range" step="0.1" placeholder="10">
                </div>
                
                <div class="input-group">
                    <label for="sampling-freq">Sampling Frequency (Hz):</label>
                    <input type="number" id="sampling-freq" step="1" placeholder="1000">
                </div>
                
                <div class="input-group">
                    <label for="load-cell-capacity">Load Cell Capacity (N):</label>
                    <input type="number" id="load-cell-capacity" step="1" placeholder="5000">
                </div>
                
                <div class="input-group">
                    <label for="calibration-factor">Calibration Factor:</label>
                    <input type="number" id="calibration-factor" step="0.0001" placeholder="1.0">
                </div>
                
                <div class="input-group">
                    <label for="data-collection-time">Data Collection Time (s):</label>
                    <input type="number" id="data-collection-time" step="0.1" placeholder="10">
                </div>
                
                <div class="input-group">
                    <label for="filter-cutoff">Filter Cutoff Frequency (Hz):</label>
                    <input type="number" id="filter-cutoff" step="1" placeholder="100">
                </div>
                
                <div class="input-group">
                    <label for="uncertainty-level">Uncertainty Level (%):</label>
                    <input type="number" id="uncertainty-level" step="0.1" placeholder="2">
                </div>
            </div>
        </div>

        <!-- Results -->
        <div id="results-tab" class="tab-content">
            <h2>9. Analysis Results</h2>
            <div class="results-container">
                <div class="calculate-section">
                    <button id="calculate-btn" onclick="performAnalysis()">Start Analysis</button>
                    <button id="monte-carlo-btn" onclick="runMonteCarloAnalysis()">Monte Carlo Analysis</button>
                </div>
                
                <div class="results-grid">
                    <div class="result-section">
                        <h3>Basic Performance</h3>
                        <div class="result-item">
                            <label>Total Impulse (N¬∑s):</label>
                            <span id="total-impulse">-</span>
                        </div>
                        <div class="result-item">
                            <label>Maximum Thrust (N):</label>
                            <span id="max-thrust">-</span>
                        </div>
                        <div class="result-item">
                            <label>Average Thrust (N):</label>
                            <span id="avg-thrust">-</span>
                        </div>
                        <div class="result-item">
                            <label>Specific Impulse (s):</label>
                            <span id="specific-impulse">-</span>
                        </div>
                        <div class="result-item">
                            <label>Burn Time (s):</label>
                            <span id="burn-time">-</span>
                        </div>
                        <div class="result-item">
                            <label>Maximum Pressure (MPa):</label>
                            <span id="max-pressure">-</span>
                        </div>
                    </div>
                    
                    <div class="result-section">
                        <h3>Performance Coefficients</h3>
                        <div class="result-item">
                            <label>Thrust/Weight Ratio:</label>
                            <span id="thrust-weight-ratio">-</span>
                        </div>
                        <div class="result-item">
                            <label>Loading Density (%):</label>
                            <span id="loading-density">-</span>
                        </div>
                        <div class="result-item">
                            <label>Characteristic Velocity c* (m/s):</label>
                            <span id="calculated-cstar">-</span>
                        </div>
                        <div class="result-item">
                            <label>Thrust Coefficient Cf:</label>
                            <span id="thrust-coefficient">-</span>
                        </div>
                    </div>
                    
                    <div class="result-section">
                        <h3>Safety Analysis</h3>
                        <div class="result-item">
                            <label>Case Stress (MPa):</label>
                            <span id="case-stress">-</span>
                        </div>
                        <div class="result-item">
                            <label>Safety Factor:</label>
                            <span id="actual-safety-factor">-</span>
                        </div>
                        <div class="result-item">
                            <label>Nozzle Erosion (mm):</label>
                            <span id="nozzle-erosion">-</span>
                        </div>
                    </div>
                    
                    <div class="result-section">
                        <h3>Monte Carlo Statistics</h3>
                        <div class="result-item">
                            <label>Thrust Std. Deviation (%):</label>
                            <span id="thrust-std-dev">-</span>
                        </div>
                        <div class="result-item">
                            <label>Confidence Interval (95%):</label>
                            <span id="confidence-interval">-</span>
                        </div>
                        <div class="result-item">
                            <label>Success Rate (%):</label>
                            <span id="success-rate">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="thrust-curve" width="800" height="400"></canvas>
                    <canvas id="pressure-curve" width="800" height="400"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>